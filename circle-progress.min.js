!function(t){var i=function(t,i){this.el=t,this.options=i,this.cWidth=this.el.offsetWidth,this.cHeight=this.el.offsetHeight,this.baseColor=this.options.baseColor||"#AEC9C9",this.coverColor=this.options.coverColor||"#43BD32",this.r=this.cWidth/2-2,this._init()};i.prototype={_init:function(){this.cWidth==this.cHeight?(this._createCanvas(),this.startRadian=this.options.startRadian||.5*Math.PI,this.startRadian>=.5*Math.PI&&this.startRadian<=1.5*Math.PI?(this.finalRadian=2.5*Math.PI-(this.startRadian-.5*Math.PI),this.step=(this.finalRadian-this.startRadian)/100):console.error("起始弧度必须在0.5π到1.5π之间")):console.error("容器必须是正方形")},_createCanvas:function(){var t=document.createElement("canvas");t.width=this.cWidth,t.height=this.cHeight,this.el.appendChild(t),this.ctx=t.getContext("2d")},_drawCanvas:function(t,i,s,h,a,e,o){this.ctx.beginPath(),this.ctx.lineCap="round",this.ctx.strokeStyle=e,this.ctx.lineWidth=o,this.ctx.arc(t,i,s,h,a,!1),this.ctx.stroke()},progress:function(t){if(t>100||t<0)console.error("进度值必须在0到100之间");else{this.ctx.clearRect(0,0,this.cWidth,this.cHeight);var i=this.startRadian+this.step*t;this._drawCanvas(this.cWidth/2,this.cHeight/2,this.r,this.startRadian,this.finalRadian,this.baseColor,2),this._drawCanvas(this.cWidth/2,this.cHeight/2,this.r,this.startRadian,i,this.coverColor,2);var s=2*Math.PI-i;xPos=Math.cos(s)*this.r+this.cWidth/2,yPos=-Math.sin(s)*this.r+this.cHeight/2,this._drawCanvas(xPos,yPos,2,0,2*Math.PI,this.coverColor,2),this.ctx.fillStyle=this.coverColor,this.ctx.font=this.cWidth/5+"px PT Sans";var h=this.ctx.measureText(t+"%").width;this.ctx.fillText(t+"%",this.cWidth/2-h/2,this.cHeight/2+this.cWidth/10)}}},t.CircleProgress=i}(window);